
################################################################################
# Rig / olfactometer specific valve / wiring configuration
# (ignored by the configuration generator, except for available_valve_pins)
################################################################################
# Note that these lists of available pins do not include their respective
# *_balance_pin, which are handled separately. This is currently only used in
# the generator, though if any pins are considered reserved by the firmware on
# the particular hardware used, it will intentionally trigger an error.
#available_valve_pins: [2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
# 2 manifold case
available_group1_valve_pins: [2, 3, 4, 5]
available_group2_valve_pins: [8, 9, 10, 11]

# I think this is pin 48 on the older of the two olfactometers I use (Remy's
# first, not her clone). 31 on her clone.
# Currently only valid single manifold case.
#balance_pin: 31
group1_balance_pin: 7
group2_balance_pin: 12

recording_indicator_pin: 20
timing_output_pin: 21

# This is the pin this is currently connected to, but my code doesn't yet
# support this. Currently just planning to always have the mirror allowing light
# through, during my recordings.
#mirror_pin: 33

################################################################################
# Parameters used by the YAML configuration generator
################################################################################

n_trials: 3

randomize_pair_order: True
randomize_first_ramped_odor: True

# Only relevant in the case when there are multiple manifolds. This case is
# indicated when available_group[1/2]_valve_pins are defined and
# avaible_valve_pins is not.
randomize_pairs_to_manifolds: True

global_log10_concentrations: [-5, -4, -3]

odor_pairs:
  - pair:
    - ethyl hexanoate
    - 1-hexanol
    reason: high joint
  - pair:
    - limonene
    - linalool
    reason: high joint
  - pair:
    - 4-ethylguaiacol
    - ethyl lactate
    reason: high PMI
  - pair:
    - butanal
    - acetone
    reason: high PMI
  - pair:
    - trans-2-hexen-1-ol
    - alpha-pinene
    reason: low PMI
  - pair:
    - hexyl acetate
    - furfural
    reason: low PMI
  - pair:
    - 1-penten-3-ol
    - alpha-pinene
    reason: zero joint, high product-of-marginals
  - pair:
    - methyl salicylate
    - hexyl hexanoate
    reason: zero joint, high product-of-marginals
  - pair:
    - linalool
    - terpinolene
    reason: high Hallem correlation
  - pair:
    - ethyl benzoate
    - methyl benzoate
    reason: high Hallem correlation
  - pair:
    - 1-penten-3-ol
    - eugenol
    reason: low Hallem correlation
  - pair:
    - methyl salicylate
    - trans-2-hexen-1-ol
    reason: low Hallem correlation

pre_pulse_s: 2
pulse_s: 1
post_pulse_s: 11


################################################################################
# Parameters parsed directly by the `olfactometer` script
# (ignored by the configuration generator)
################################################################################
generator: pair_concentration_grid

