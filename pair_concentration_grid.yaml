
# NOTE: this config file is currently only valid for the <insert which rig name
# here after making valid> olfactometer, and would need to be duplicated with
# only these values changed appropriately to work on the other scope
################################################################################
# Rig / olfactometer specific valve / wiring configuration
# (ignored by the configuration generator, except for available_valve_pins)
################################################################################
# Note that this does not include the balance_pin, which is handled separately.
# This is currently only used in the generator, though if any pins are
# considered reserved by the firmware on the particular hardware used, it will
# intentionally trigger an error.
# NOTE: the newer olfactometer (Remy's ~clone) I am planning on starting with
# has 1/12 valves as the normally open balance, and the valve that would be
# driven by pin 12 is currently broken, so we have 10 valves for odors
# (1 fewer if we want a solvent in *every* recording, rather than just in maybe
# the last diagnostic panel)
# Only valid in single manifold case.
#available_valve_pins: [2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
# 2 manifold case
available_group1_valve_pins: [2, 3, 4, 5, 6, 7]
available_group2_valve_pins: [8, 9, 10, 11]

# I think this is pin 48 on the older of the two olfactometers I use (Remy's
# first, not her clone). 31 on her clone.
# Currently only valid single manifold case.
#balance_pin: 31
group1_balance_pin: 31
# TODO TODO TODO rewire stuff to make this correct, or otherwise update this
group2_balance_pin: 32

# TODO TODO TODO what are the appropriate pins for this on the two
# olfactometers? 21 on the clone? same on both? soldered?
timing_output_pin: 21

################################################################################
# Parameters used by the YAML configuration generator
################################################################################

n_trials: 3

randomize_pair_order: True
randomize_first_ramped_odor: True

# Only relevant in the case when there are multiple manifolds. This case is
# indicated when available_group[1/2]_valve_pins are defined and
# avaible_valve_pins is not.
randomize_pairs_to_manifolds: True

global_log10_concentrations: [-5, -4, -3]

odor_pairs:
  - pair:
    - ethyl hexanoate
    - 1-hexanol
    reason: high joint
  - pair:
    - limonene
    - linalool
    reason: high joint
  - pair:
    - 4-ethylguaiacol
    - ethyl lactate
    reason: high PMI
  - pair:
    - butanal
    - acetone
    reason: high PMI
  - pair:
    - trans-2-hexen-1-ol
    - alpha-pinene
    reason: low PMI
  - pair:
    - hexyl acetate
    - furfural
    reason: low PMI
  - pair:
    - 1-penten-3-ol
    - alpha-pinene
    reason: zero joint, high product-of-marginals
  - pair:
    - methyl salicylate
    - hexyl hexanoate
    reason: zero joint, high product-of-marginals
  - pair:
    - linalool
    - terpinolene
    reason: high Hallem correlation
  - pair:
    - ethyl benzoate
    - methyl benzoate
    reason: high Hallem correlation
  - pair:
    - 1-penten-3-ol
    - eugenol
    reason: low Hallem correlation
  - pair:
    - methyl salicylate
    - trans-2-hexen-1-ol
    reason: low Hallem correlation

pre_pulse_s: 2
pulse_s: 1
post_pulse_s: 11


################################################################################
# Parameters parsed directly by the `olfactometer` script
# (ignored by the configuration generator)
################################################################################
generator: pair_concentration_grid

