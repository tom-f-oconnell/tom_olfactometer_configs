
# NOTE: this config file is currently only valid for the <insert which rig name
# here after making valid> olfactometer, and would need to be duplicated with
# only these values changed appropriately to work on the other scope
################################################################################
# Rig / olfactometer specific valve / wiring configuration
# (ignored by the configuration generator, except for available_valve_pins)
################################################################################
# Note that this does not include the balance_pin, which is handled separately.
# This is currently only used in the generator, though if any pins are
# considered reserved by the firmware on the particular hardware used, it will
# intentionally trigger an error.
# NOTE: the newer olfactometer (Remy's ~clone) I am planning on starting with
# has 1/12 valves as the normally open balance, and the valve that would be
# driven by pin 12 is currently broken, so we have 10 valves for odors
# (1 fewer if we want a solvent in *every* recording, rather than just in maybe
# the last diagnostic panel)
available_valve_pins: [2, 3, 4, 5, 6, 7, 8, 9, 10, 11]

# I think this is pin 48 on the older of the two olfactometers I use (Remy's
# first, not her clone). 31 on her clone.
balance_pin: 31
# TODO TODO TODO what are the appropriate pins for this on the two
# olfactometers? 21 on the clone? same on both? soldered?
timing_output_pin: 21

################################################################################
# Parameters used by the YAML configuration generator
################################################################################

n_trials: 3

randomize_first_ramped_odor: True

global_log10_concentrations: [-5, -4, -3]

odor_pairs:
  - pair:
    - ethyl hexanoate
    - 1-hexanol
    #reason: high joint
# TODO fill this out with the rest of the pairs in my evernote note "Tentative
# pair choice for initial antennal experiments" after coming up with some
# mechanism to run a sequence of YAML files (from one input to the generator)
#  - pair:
#    - name:  
#    - name:  
#    #reason:  
#  - pair:
#    - name:  
#    - name:  
#    #reason:  
#  - pair:
#    - name:  
#    - name:  
#    #reason:  
#  - pair:
#    - name:  
#    - name:  
#    #reason:  
#  - pair:
#    - name:  
#    - name:  
#    #reason:  
#  - pair:
#    - name:  
#    - name:  
#    #reason:  
#  - pair:
#    - name:  
#    - name:  
#    #reason:  

pre_pulse_s: 2
pulse_s: 1
post_pulse_s: 11


################################################################################
# Parameters parsed directly by the `olfactometer` script
# (ignored by the configuration generator)
################################################################################

generator: pair_concentration_grid

# was originally thinking about having this type of the `olfactometer` timing
# config as input that would just be passed through, but now i'm thinking i'll
# reformat float seconds to us in the generator...
#settings:
#  # The parameters under this key are for specifying the timing of
#  # individual trials (each with a single pulse from the valve(s)).
#  # All trials will share this timing.
#  # All of these parameters are in units of microseconds.
#  timing:
#    # Baseline period.
#    pre_pulse_us: 500000
#
#    # How long the valve(s) will actually be delivering odor for.
#    pulse_us: 5000000
#
#    # Delay before next trial.
#    # NOTE: the time from offset of the pulse to the onset of the
#    # next trial (if there is one) will be:
#    # (post_pulse_us + pre_pulse_us)
#    post_pulse_us: 4500000

