
# Use this, rather than test_valves.yaml to check valves by listening for
# clicks. Use test_valves.yaml to check the valve flow visually with the outputs
# in water.

settings:
  # The parameters under this key are for specifying the timing of
  # individual trials (each with a single pulse from the valve(s)).
  # All trials will share this timing.
  # All of these parameters are in units of microseconds.
  timing:
    # Baseline period.
    pre_pulse_us: 500000

    # How long the valve(s) will actually be delivering odor for.
    #pulse_us: 5000000
    pulse_us: 500000

    # Delay before next trial.
    # NOTE: the time from offset of the pulse to the onset of the
    # next trial (if there is one) will be:
    # (post_pulse_us + pre_pulse_us)
    post_pulse_us: 500000

pin_sequence:
  # The rows in this bulleted list happen one after the other.
  pin_groups:
  # The pins listed in each of these rows will all be concurrently 
  # switched ONCE
  - pins: [2]
  - pins: [2]
  - pins: [2]
  - pins: [3]
  - pins: [3]
  - pins: [3]
  - pins: [4]
  - pins: [4]
  - pins: [4]
  - pins: [5]
  - pins: [5]
  - pins: [5]
  # As things are currently wired, 6 is the broken valve on the newer
  # olfactometer (used to be pin 12 but the sides got swapped in setting up 2
  # manifold stuff 2020-11-03)
  # And pin 7 is now the "balance" (the normally OPEN 2-way valve; the only one
  # on this manifold)
  - pins: [7]
  - pins: [7]
  - pins: [7]
  # Manifold 2 (the older manifold, including a separate balance valve, as there
  # are no 2-way normally open valves installed on this manifold) has pins:
  # 8-12, 31 (31 shouldn't need to be used here)
  # The adapter I jerry rigged currently (2020-11-03) only has 5 connections
  # made (the first 5, so 8-12)
  - pins: [8]
  - pins: [8]
  - pins: [8]
  - pins: [9]
  - pins: [9]
  - pins: [9]
  - pins: [10]
  - pins: [10]
  - pins: [10]
  - pins: [11]
  - pins: [11]
  - pins: [11]
  # With my adapter, this should now be the old (discrete) balance valve.
  - pins: [12]
  - pins: [12]
  - pins: [12]

